# 1.7.4 ç”¨å·®é›†å®ç°å…³ç³»é™¤æ³•è¿ç®—

## å‡†å¤‡æ•°æ®:
```sql
create table skills(
    skill varchar(100) not null
);
insert into skills(skill)
            values('Oracle'),
                ('UNIX'),
                ('Java');
/*
 skill
--------
 Oracle
 UNIX
 Java
(3 rows)
*/

create table emp_skills(
    emp varchar(100) not null,
    skill varchar(100) not null
);
insert into emp_skills(emp, skill)
            values('ç›¸ç”°', 'Oracle'),
                ('ç›¸ç”°', 'UNIX'),
                ('ç›¸ç”°', 'Java'),
                ('ç›¸ç”°', 'C#'),
                ('ç¥å´', 'Oracle'),
                ('ç¥å´', 'UNIX'),
                ('ç¥å´', 'Java'),
                ('å¹³äº•', 'UNIX'),
                ('å¹³äº•', 'Oracle'),
                ('å¹³äº•', 'PHP'),
                ('å¹³äº•', 'Perl'),
                ('å¹³äº•', 'C++'),
                ('å¼±ç”°éƒ¨', 'Perl'),
                ('æ¸¡æ¥', 'Oracle');
/*
  emp   | skill
--------+--------
 ç›¸ç”°   | Oracle
 ç›¸ç”°   | UNIX
 ç›¸ç”°   | Java
 ç›¸ç”°   | C#
 ç¥å´   | Oracle
 ç¥å´   | UNIX
 ç¥å´   | Java
 å¹³äº•   | UNIX
 å¹³äº•   | Oracle
 å¹³äº•   | PHP
 å¹³äº•   | Perl
 å¹³äº•   | C++
 å¼±ç”°éƒ¨ | Perl
 æ¸¡æ¥   | Oracle
(14 rows)
*/
```

## é—®é¢˜:
è™½ç„¶SQLæ ‡å‡†åŒ–äº†é›†åˆè¿ç®—çš„åŠ (union)/å‡(except)/ä¹˜(cross join), ä½†æ˜¯è¿˜æ²¡æœ‰æ ‡å‡†åŒ–
é™¤æ³•è¿ç®—, æ‰€ä»¥ä¸ºäº†å®ç°é™¤æ³•è¿ç®—å¿…é¡»è‡ªå·±å®ç°.
é€šå¸¸æœ‰å¦‚ä¸‹å‡ ä¸ªæ–¹æ³•:
* åµŒå¥—ä½¿ç”¨Not EXISTS;
* ä½¿ç”¨HAVINGå­å¥è½¬æ¢ä¸ºä¸€å¯¹ä¸€å…³ç³»;
* æŠŠé™¤æ³•å˜æˆåŠ æ³•;

## è§£æ³•:
ä½¿ç”¨å°†é™¤æ³•è½¬æ¢ä¸ºå‡æ³•:
```sql
select distinct emp
    from emp_skills es1
where not exists(
    select skill
        from skills
    except
    select skill
        from emp_skills es2
    where es1.emp = es2.emp);
```
ğŸ¤“è¿™ä¸ªè§£æ³•çš„æ€è·¯å¾ˆåƒé¢å‘å¯¹è±¡çš„æ€è·¯, é€ä¸ªéå†æ‰€æœ‰çš„å‘˜å·¥, ç„¶åæ£€æµ‹æ¯ä¸ªå‘˜å·¥æ˜¯å¦æ»¡è¶³æ¡ä»¶.
è¿™æ˜¯å› ä¸ºå…³è”å­æŸ¥è¯¢æœ¬èº«å°±æ˜¯ä¸ºäº†å®ç°é¢å‘å¯¹è±¡çš„å¾ªç¯è€Œè®¾è®¡çš„å•Š.

