# 1.5.9 ç”¨å…¨å¤–è¿æ¥æ±‚å¼‚æˆ–é›†

## å‡†å¤‡æ•°æ®:
```sql
create table class_a2(
    id int not null,
    name varchar(100) not null 
);
insert into class_a2(id, name)
            values(1, 'ç”°ä¸­'),
                (2, 'é“ƒæœ¨'),
                (3, 'å°¹é›†é™¢');
/*
 id |  name
----+--------
  1 | ç”°ä¸­
  2 | é“ƒæœ¨
  3 | å°¹é›†é™¢
(3 rows)
*/

create table class_b2(
    id int not null,
    name varchar(100) not null
);
insert into class_b2(id, name)
            values(1, 'ç”°ä¸­'),
                (2, 'é“ƒæœ¨'),
                (4, 'è¥¿å›­å¯º');
/*
 id |  name
----+--------
  1 | ç”°ä¸­
  2 | é“ƒæœ¨
  4 | è¥¿å›­å¯º
(3 rows)
*/
```

## æ€è·¯:
```sql
-- æˆ‘çš„ç­”æ¡ˆ
select  case when a_id is null then b_id else a_id end as id,
        case when a_name is null then b_name else a_name end as name
    from (select a.id a_id, a.name a_name, b.id b_id, b.name b_name
            from class_a2 a
                full outer join class_b2 b
                    on a.id = b.id
         where a.name is null
            or b.name is null) tmp
order by id;

-- ä¹¦ä¸­çš„ç­”æ¡ˆ
-- ğŸ˜±åˆ«æˆ‘çš„æ–¹æ³•å°‘ç”Ÿæˆäº†ä¸€ä¸ªè§†å›¾
-- ğŸ˜±æ²¡æƒ³åˆ°coalesceè¿˜æœ‰è¿™ç§ç”¨æ³•
select coalesce(a.id, b.id) as id,
        coalesce(a.name, b.name) as name
    from class_a2 a 
        full outer join class_b2 b 
            on a.id = b.id
where a.id is null
    or b.id is null;
```
